<template>
    <div class="user flex">
        <div class="user-icon">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                xml:space="preserve"
                viewBox="0 0 1000 1000"
                fill="currentColor"
            >
                <path
                    d="M455.54 11.88c-39.71 3.85-88.53 14.59-123.38 27.35-45.79 16.61-103.32 49.23-141.41 79.82-78.4 63.41-140.19 159.84-164.5 256.48-21.67 86.09-21.67 162.67.01 248.77 15.8 63.01 50.85 132.49 92.99 184.96 63.41 78.4 159.84 140.19 256.48 164.5 86.1 21.67 162.68 21.67 248.78 0 168.14-42.33 307.12-181.31 349.46-349.46 29.17-116.08 18.43-230.14-31.4-334.88-30.79-64.83-79.41-126.82-133.1-170.38-38.09-30.59-95.62-63.21-141.41-79.82-64.22-23.49-144.65-33.83-212.52-27.34zm88.33 54.7c99.47 9.72 193.07 54.09 264.17 125.4 170.18 169.97 170.18 445.9 0 615.87-169.97 170.17-445.9 170.17-615.87 0C22 637.88 22 361.95 192.17 191.98 284.76 99.39 413 53.61 543.87 66.58z"
                />
                <path
                    d="M477.02 278.28c-49.03 11.95-82.66 61.79-74.55 110.61 8.92 53.69 58.75 90.76 111.22 83.26 54.09-7.9 92.38-58.95 84.07-112.44-8.71-57.12-64.83-95-120.74-81.43zM474.38 505.79c-64.62 10.33-121.75 58.14-141.81 118.72-4.46 13.17-5.47 20.05-5.47 36.47 0 24.72 4.66 37.28 18.44 49.63 17.62 15.6 14.38 15.19 154.57 15.19 114.87 0 125.4-.2 135.13-3.65 13.98-4.86 27.35-17.02 33.22-30.19 6.89-15.6 6.69-44.77-.81-67.46-13.77-41.93-48.62-81.23-89.95-102.1-28.56-14.38-72.93-21.47-103.32-16.61z"
                />
            </svg>
        </div>
        <div class="user-name">
            <span>{{ username }}</span>
        </div>
    </div>
</template>
<script setup lang="ts">
import { onMounted, ref, Ref } from "vue";
// @ts-ignore
import Authorisation from "@/requests/authentication.js";

const username: Ref<string> = ref<string>("");

onMounted(async () => {
    const me = await Authorisation.whoami();
    username.value = await me.text();
});
</script>
<style scoped>
.user {
    height: 2rem;
    margin-block: 0.5rem;
    align-items: center;
    gap: 0.5rem;
    text-transform: capitalize;
}

.user-icon {
    height: 100%;
    aspect-ratio: 1;
}
</style>
